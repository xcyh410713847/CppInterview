# class-inheritance

## c++的public、private、protected继承特点

C++类默认是private继承

C++结构体默认是public继承

### 什么不能被继承

#### 构造函数不能被继承

创建派生类对象必须调用派生类的构造函数.C++11新增了一种能够继承构造函数的机制，但默认仍不继承构造函数。

即使继承了，它的名字和派生类的名字也不一样（构造函数名字和类名一样），不能成为派生类的构造函数，当然更不能成为普通的成员函数。在设计派生类时，对继承过来的成员变量的初始化工作也要由派生类的构造函数完成，但是大部分基类都有private属性的成员变量，它们在派生类中无法访问，更不能使用派生类的构造函数来初始化。这种矛盾在C++继承中是普遍存在的，解决这个问题的思路是：**在派生类的构造函数中调用基类的构造函数**。

代码如下：

```cpp
#include <iostream>

class Base
{
private:
    int m_n1;

public:
    Base(int n1) : m_n1(n1)
    {
        std::cout << "Base::Base()" << std::endl;
    }
};

class Derived1 : public Base
{
};

int main()
{
    // Derived1 d1(10); // 错误，没有合适的构造函数

    return 0;
}
```

#### 析构函数不能被继承

在释放对象时，程序先调用派生类析构函数，再调用基类的析构函数。如果基类有默认析构函数，编译器将为派生类生成默认析构函数。通常，对于基类，其析构函数应该设置为虚的。

#### 赋值运算符不能被继承

派生类继承的方式特征与基类完全相同，但赋值运算符的特征随类而异，这是因为它包含一个类型为其所属类的形参。其实不应该说不能被继承，而是被覆盖了。

#### 友元不能被继承
